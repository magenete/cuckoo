Cuckoo Quick Start Guide
========================

Это руководство - краткая инструкция о том, как скачать и начать использовать quckoo. Оно включает следующие этапы:

1. Установка системы quckoo
2. Установка эмулятора и необходимых зависимостей
3. Создание виртуальной машины и установка гостевой ОС
4. Запуск виртуальной машины



Установка системы quckoo
------------------------

Самый простой способ скачать и установить quckoo - воспользоваться следующей командой:

    curl -sSL https://raw.githubusercontent.com/magenete/cuckoo/master/cuckoo/bin/cuckoo-installer | sh

Приведенная команда скачивает установочный скрипт непосредственно из репозитария проекта и выполняет его запуск, после чего скрипт сам закачивает необходимые части и размещает их в подкаталоге .cuckoo внутри домашнего каталога пользователя.

Разумеется, вместо этого можно клонировать репозиторий и запустить установочный скрипт локально с ключом "-i" либо "--install":

    cuckoo/bin/cuckoo-installer -i

После установки этот же скрипт с ключом "-u" либо "--uninstall" можно использовать, чтобы деинсталлировать cuckoo:
	
    cuckoo-installer -i


Установка эмулятора
-------------------

Установка, выполненная на предыдущем этапе, касается системы управления виртуальными машинами, однако не включает собственно систему виртуализации, т.е. эмулятор. На текущий момент quckoo поддерживает эмулятор QEMU. При работе quckoo могут использоваться и общесистемные исполняемые файлы qemu, однако рекомендуемый вариант - позволить quckoo создать локальную сборку qemu (по умолчанию, в том же скрытом каталоге ~/.cuckoo). Это выполняется в два этапа:

1. Установка зависимостей
2. Сборка QEMU
    
Для установки необходимых зависимостей предусмотрен специальный скрипт "cuckoo-qemu-packages", определяющий пакетный менеджер хост-системы и выполняющий установку необходимых пакетов:

     cuckoo-qemu-packages --install --sudo

Как и в предыдущем случае, ключ --install позволяет инсталлировать, --uninstall - деинсталлировать установленные ранее пакеты, а кроме того, предусмотрена опция --list, показывающая список пакетов для установки и не выполняющая никаких реальных изменений. Скрипт может получать эскалацию привилегий, необходимую для установки, либо через sudo (ключ --sudo), либо через su (соответственно ключ --su). 

Следующее, что рекомендуется сделать для работы cuckoo - это создать локальную копию эмулятора QEMU, которая будет использоваться для запуска виртуальных машин. 
Сделать это можно следующей командой:

     сuckoo --qemu-build --qemu-arch x86_64

В данном случае предполагается, что будет скачан исходный код эмулятора с официального сайта проекта QEMU и выполнена его компиляция (опция --qemu-build) для запуска на 64-битной платформе (--qemu-arch x86_64) GNU/Linux (если вы используете на хост-системе 32-битую ОС, используйте параметр --qemu-arch x86). 

На самом деле процедура сборки QEMU с помощью cuckoo - гораздо более гибкая. В частности, дополнительные опции позволяют выполнять кросс-компиляцию для запуска на платформе, отличной от текущей. Запланирована возможность скомпилировать QEMU для таких сравнительно экзотических ОС, как Windows и MacOS X. В качестве сборочной платформы на текущий момент может выступать только GNU/Linux (в будущем список должен пополниться системами семейства BSD). Подробнее ознакомиться с доступными ключами можно, выполнив "cuckoo --help", или открыв полную документацию по использованию системы.

Создание виртуальной машины и установка гостевой ОС
---------------------------------------------------

Создание новой виртуальной машины в cuckoo также включает два этапа:

1. Скачивание установочного образа гостевой ОС
2. Запуск виртуальной машины для установки гостевой ОС

В качестве установочного образа используются официальные iso-образы, распространяемые создателями ОС. Для установки гостевой ОС iso-образ должен оказаться в фиксированном месте внутри структуры каталогов cuckoo. За адрес для скачивания отвечает параметр --iso-download, а параметры --arch, --os-name и --dist-version (машинная архитектура; название ОС; название и, опционально, версия дистрибутива) определяют место скачанного установочного iso-образа во внутренней структуре каталогов cuckoo. Следующий пример приведёт к скачинию установочного образа Archlinux для его последующей установки на 32-битную (x86) архитектуру: 

     cuckoo --arch x86 --os-name linux --dist-version archlinux --iso-download http://mirrors.evowise.com/archlinux/iso/2016.05.01/archlinux-2016.05.01-dual.iso

Еще один пример показывает, как можно указать не только название, но и конкретную версию дистрибутива:

     cuckoo --arch x86_64 --os-name linux --dist-version debian/8.4.0 --iso-download http://cdimage.debian.org/debian-cd/8.4.0/amd64/iso-dvd/debian-8.4.0-amd64-DVD-{1,2,3}.iso

Если установочный образ занимает более одного диска, команда повторяется c URL для каждого из них. В приведенном выше примере дело обстоит именно так (требуется скачать файлы debian-8.4.0-amd64-DVD-1.iso .. debian-8.4.0-amd64-DVD-3.iso), но для краткости три вызова команды заменены раскрытием фигурных скобок,  которое поддерживает интерпретатор shell. 

После того, как необходимые iso-образы загружены, выполняется команда установки гостевой ОС. Для этого указывается ключ --install и уже знакомым способом задаются архитектура, ОС и дистрибутив:

     cuckoo --arch x86 --os-name linux --dist-version archlinux --install

Сама установка выполняется штатными средствами установочного образа гостевой ОС в интерактивном режиме. По умолчанию для установки доступны образы 4 жёстких дисков размером 4Гб каждый. В полной документации поясняется, как можно это изменить, а также как задать наиболее подоходящий из доступных интерфейсов подключения дисковых образов. 

Запуск виртуальной машины
-------------------------

Наконец, 

